<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    class Node {
      constructor(val) {
        this.val = val
        this.next = null
      }
    }
    class LinkNodeList {
      constructor() {
        // 链表
        // 链表相关的操作

        // 链表的第一个元素
        this.head = null
        this.length = 0
      }
      // 增加
      append(val) {
        let node = new Node(val)
        let cur

        // 两种情况 1。 链表仕空的，2. 不是空的
        if (this.head == null) {
          // head是第一个
          this.head = node
        } else {
          // 遍历链表
          cur = this.head
          while (cur.next) {
            cur = cur.next
          }
          cur.next = node
        }
        this.length += 1
      }
      removeAt(index) {
        // 你的上一个节点，指向下一个节点
        // 把自己下一个节点指向取消
        let cur = this.head
        let prev
        let i = 0
        if (index == 0) {
          // 删除第一项
          this.head = cur.next
        } else {
          while (i < index) {
            // 上一个和当前都要保存
            prev = cur
            cur = cur.next
            i++
          }
          prev.next = cur.next
          cur.next = null
        }
        this.length -= 1
        return cur.val

      }
      print() {
        let cur = this.head
        let ret = []
        while (cur) {
          ret.push(cur.val)
          cur = cur.next
        }
        console.log(ret.join('==>'))
        return ret.join('==>')

      }

    }

    let linkNode = new LinkNodeList()
    linkNode.append(1)
    linkNode.append(2)
    linkNode.append(3)
    linkNode.append(4)
    linkNode.append(5)

    var removeElements = function (head, val) {
      let ele = {
        next: head
      }
      let cur = ele

      while (cur.next) {
        debugger
        if (cur.next.val === val) {
          cur.next = cur.next.next
        } else {
          cur = cur.next
        }
      }
      return ele.next
    };
    console.log(removeElements(linkNode.head, 3))
  </script>
</body>

</html>